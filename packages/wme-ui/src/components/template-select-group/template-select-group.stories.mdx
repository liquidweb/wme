import { useState } from 'react';
import {
	ArgsTable,
	Story,
	Canvas,
	Meta
} from '@storybook/addon-docs';
import templatePreviewImage from '../../stories/images/template-preview.png';
import { TemplateSelectGroup, TemplateSelectItem } from '..';

<Meta
	title="Misc/TemplateSelectGroup"
	component={TemplateSelectGroup}
	argTypes={{
		children: {
			control: false,
			description: 'The content of the component.',
			table: {
				type: {
					summary: 'node',
				},
			}
		},
	}}
/>

export const Template = (args) => {
	const [selectedTemplate, setSelectedTemplate] = useState(() => null)
	const [isHovered, setIsHovered] = useState(() => false)
	const handleTemplateChange = (value) => {
		setSelectedTemplate(value);
		console.log(value);
	}
	const handleTemplateHover = (value) => {
		setIsHovered(value);
	}
	return (
		<TemplateSelectGroup
			{...args}
			className={isHovered ? 'is-hovered' : ''}
		>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				imageSrc={templatePreviewImage}
				selected={selectedTemplate === 1}
				imageAlt={`Theme ${1} preview image`}
				onClick={()=>handleTemplateChange(1)}
			/>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				websiteSrc={'http://tri.be/'}
				selected={selectedTemplate === 2}
				onClick={() => handleTemplateChange(2)}
			/>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				imageSrc={templatePreviewImage}
				imageAlt={`Theme ${1} preview image`}
				selected={selectedTemplate === 3}
				onClick={() => handleTemplateChange(3)}
			/>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				websiteSrc={'http://tri.be/'}
				selected={selectedTemplate === 4}
				onClick={() => handleTemplateChange(4)}
			/>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				imageSrc={templatePreviewImage}
				imageAlt={`Theme ${1} preview image`}
				selected={selectedTemplate === 5}
				onClick={() => handleTemplateChange(5)}
			/>
			<TemplateSelectItem
				buttonLabel="Start With This Style"
				buttonSelectedLabel="Selected"
				websiteSrc={'http://tri.be/'}
				selected={selectedTemplate === 6}
				onClick={() => handleTemplateChange(6)}
			/>
		</TemplateSelectGroup>
	);
};

# Template Select Group
Template Selects are used when information is best presented paired with
theme preview images. This allows the user to select only one option.

## Props
<ArgsTable story="."/>

## Canvas
<Canvas>
	<Story name="Default">
		{Template.bind({})}
	</Story>
</Canvas>
