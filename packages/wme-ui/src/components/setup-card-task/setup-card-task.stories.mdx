import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { action as actionAddon } from "@storybook/addon-actions";
import LinkTo from "@storybook/addon-links/react";
import { SetupCardTask, Button, SplitButton } from "..";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

<Meta
	title="Setup Cards/SetupCardTask"
	component={SetupCardTask}
	argTypes={{
		title: {
			control: "text",
			description: "The title content for component.",
			table: {
				type: {
					summary: "string",
				},
			},
		},
		intro: {
			control: "text",
			description: "A short blurb about the task.",
			table: {
				type: {
					summary: "string",
				},
			},
		},
		href: {
			control: "text",
			description: "The URL to link to when the task is clicked.",
			table: {
				type: {
					summary: "string",
				},
			},
		},
		taskCta: {
			control: "text",
			description: "The hover pop-up text for tasks without a button",
			table: {
				type: {
					summary: "string",
				},
			},
		},
		onClick: {
			control: false,
			description: "Callback fired when the component is clicked.",
			table: {
				type: {
					summary: "func",
				},
			},
			action: "onclick action testing",
		},
		icon: {
			control: false,
			description: "MUI icon component.",
			table: {
				type: {
					summary: "node",
				},
			},
		},
	}}
	decorators={[
		(Story) => (
			<div style={{ maxWidth: 800, margin: "0 auto" }}>
				<Story />
			</div>
		),
	]}
/>

export const Template = (args) => <SetupCardTask {...args} />;

# Setup Card Task

SetupCardTasks are used in the WME <LinkTo kind="setup-cards-setupcard--actions">SetupCard</LinkTo>.
They come in two styles: 1) An arrow with hover-over text that launches the wizard modal and 2) A button
that launch non-wizard functionality such as navigating the user to a specific part of the admin area.

## Props

<ArgsTable story="." />

## Usage

-   The `icon` prop expects the <a href="https://mui.com/material-ui/material-icons/" target="_blank">MUI Icon</a> component, see the MUI documentation for details.
-   The `button` prop expects either the WME <LinkTo kind="buttons-button--primary">Button</LinkTo> or <LinkTo kind="buttons-splitbutton--primary">SplitButton</LinkTo> component.

<br />

## Variants

<br />

### Task with Href

<Canvas>
	<Story
		name="With Href"
		args={{
			href: "https://tri.be",
			title: "Example task with href",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			taskCta: "Learn More",
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			href="https://tri.be"
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			taskCta="Learn More",
		/>
	);
};
```

### Task with onClick

<Canvas>
	<Story
		name="On Click"
		args={{
			title: "Example task with an onClick",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			taskCta: "Click away!",
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			onClick={(e) => console.log('task clicked')}
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			taskCta="Learn More",
		/>
	);
};
```

### Disabled task

<Canvas>
	<Story
		name="Disabled"
		args={{
			title: "Example task is disabled",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			disabled: true,
			taskCta: "Learn More",
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			disabled={true}
			href="https://tri.be"
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			taskCta="Learn More",
		/>
	);
};
```

### Task with a button

<Canvas>
	<Story
		name="With Button"
		args={{
			title: "Example task with a Button",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			button: (
				<Button variant="contained" color="primary">
					Click Me
				</Button>
			),
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask, Button } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			button={
				<Button variant="contained" color="primary" onClick={() => console.log('clicked')}>
					Click Me
				</Button>
			}
		/>
	);
};
```

### Disabled task with a button

<Canvas>
	<Story
		name="Disabled With Button"
		args={{
			title: "Example task and button are disabled",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			disabled: true,
			button: (
				<Button variant="contained" color="primary">
					Click Me
				</Button>
			),
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask, Button } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			disabled={true}
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			button={
				<Button variant="contained" color="primary" onClick={() => console.log('clicked')}>
					Click Me
				</Button>
			}
		/>
	);
};
```

### Task with a split button

<Canvas>
	<Story
		name="Split Button"
		args={{
			title: "Example task with a Split Button",
			intro: "Aenean eu leo quam pellentesque ornare sem lacinia.",
			icon: <CalendarMonthIcon />,
			button: (
				<SplitButton
					color="primary"
					selectedIndex={0}
					options={[
						"Create a merge commit",
						"Squash and merge",
						"Rebase and merge",
					]}
				/>
			),
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

```jsx
import React from "react";
import { SetupCardTask, SplitButton } from "@moderntribe/wme";
import CalendarMonthIcon from "@mui/icons-material/CalendarMonth";

const MySetupCardTask = () => {
	return (
		<SetupCardTask
			disabled={true}
			icon={<CalendarMonthIcon />},
			title="Example task with href"
			intro="Aenean eu leo quam pellentesque ornare sem lacinia."
			button={
				<SplitButton
					onClick={() => console.log('clicked')}
					color="primary"
					selectedIndex={0}
					options={[
						"Create a merge commit",
						"Squash and merge",
						"Rebase and merge",
					]}
				/>
			}
		/>
	);
};
```
